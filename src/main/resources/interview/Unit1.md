kp 日活 10w用户

qps 最高 100

> pintar-app 6个pod , 8G G1
> 
> lending-provider 6个pod 8G G1

为什么用G1而不是CMS?

1. 更低的停顿和更高的性能：G1旨在提供更高的吞吐量和更低的停顿，而CMS虽然以降低停顿时间为目的，但老年代的清除采取的是垃圾清除算法，从而导致内存碎片的产生，当内存碎片增多时，需要进行内存碎片的合并整理，从而导致GC时间增加；CMS预留的空间如果不够，可能导致Concurent mode Failure,从而触发Serial Old来进行Full GC， 从而GC时间变长。
2. 更优秀的垃圾回收方式：G1将整个堆分区(2048),对老年代的清理采用混合收集的方法，逐步将回收收益最高的块加入到Mix GC中，从而使针对大内存老年代的回收更快。
3. java 9 之后默认是G1，意味着G1预计会有更多的优化和更高的性能，而CMS将会逐渐退出主流

ES  配置 16G * 6 , 3个shards  
我们自己的业务线 1000w 日志  每天500M * 15天 = 7G

Redis 8G * 6